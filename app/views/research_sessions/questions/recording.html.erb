<div class="main-content">
  <%= render 'shared/error_summary' %>
  <h1 class="page-heading">Recording</h1>
  <%= barnardos_form_with model: @research_session, url: wizard_path do |form| %>
    <div class="reactive-container">
      <div class="reactive-container__form">
        <%= form.checkbox_group_vertical(
              :recording_methods,
              RecordingMethods::NAME_VALUES.map { |name, value| [name, value.capitalize] },
              {
                autofocus_first_item: true,
                input: { 'data-previewed-by' => 'RecordingMethodsPreviews' }
              },
              legend: 'How will you be recording information?'
            )
        %>
        <div class="js-ConditionalSubfield"
              data-controlled-by="research_session[recording_methods][]"
              data-control-value="other">
          <%=
            form.labelled_text_field(
              :other_recording_method,
              text_options: { 'data-previewed-by' => 'RecordingMethodsPreviews' }
            )
          %>
        </div>
      </div>
      <div class="reactive-container__preview">
        <%#
          react_component('RecordingMethodsPreviews', current_step_params)
        %>
      </div>
    </div>
    <%= render 'button_bar' %>
  <% end %>
</div>
